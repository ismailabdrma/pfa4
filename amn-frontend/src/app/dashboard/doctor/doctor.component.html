<div class="doctor-dashboard">
  <h2>Dashboard M√©decin</h2>

  <!-- üîç Search patient by CIN and full name -->
  <div>
    <h3>Chercher un patient</h3>
    <input type="text" [(ngModel)]="cin" placeholder="CIN du patient" />
    <input type="text" [(ngModel)]="fullName" placeholder="Nom complet du patient" />
    <button (click)="searchPatient()">Rechercher</button>
  </div>

  <!-- üìã Manual Patient Info Form -->
  <div *ngIf="showManualForm" class="manual-form">
    <h3>Cr√©er un dossier m√©dical pour un nouveau patient</h3>

    <input type="text" [(ngModel)]="manualData.bloodType" placeholder="Groupe sanguin" />
    <input type="text" [(ngModel)]="manualData.emergencyContact" placeholder="Contact d'urgence" />
    <input type="text" [(ngModel)]="manualData.allergies" placeholder="Allergies" />
    <input type="text" [(ngModel)]="manualData.chronicDiseases" placeholder="Maladies chroniques" />
    <input type="date" [(ngModel)]="manualData.birthDate" placeholder="Date de naissance" />

    <label>
      Probl√®mes cardiaques:
      <input type="checkbox" [(ngModel)]="manualData.hasHeartProblem" />
    </label>
    <label>
      Chirurgies ant√©rieures:
      <input type="checkbox" [(ngModel)]="manualData.hasSurgery" />
    </label>

    <button (click)="submitManualFolder()">Soumettre</button>
  </div>

  <!-- üìÅ Show full patient profile -->
  <div *ngIf="patientProfile">
    <h3>Dossier M√©dical de {{ patientProfile.fullName }}</h3>

    <!-- üìù Ajouter un dossier m√©dical -->
    <div>
      <h4>Ajouter un dossier m√©dical</h4>
      <input type="text" [(ngModel)]="medicalRecord.reason" placeholder="Motif" />
      <input type="text" [(ngModel)]="medicalRecord.diagnosis" placeholder="Diagnostic" />
      <textarea [(ngModel)]="medicalRecord.notes" placeholder="Notes"></textarea>
      <button (click)="createMedicalRecord()">Ajouter</button>
    </div>

    <!-- üíä Prescrire un traitement -->
    <div>
      <h4>Prescrire un traitement</h4>
      <input type="text" [(ngModel)]="prescription.medicines" placeholder="M√©dicaments" />
      <textarea [(ngModel)]="prescription.instructions" placeholder="Instructions"></textarea>
      <button (click)="writePrescription()">Prescrire</button>
    </div>
  </div>
</div>
